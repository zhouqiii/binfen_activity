{"remainingRequest":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\src\\utils\\request.js","mtime":1634718003640},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634717893830},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\babel-loader\\lib\\index.js","mtime":1634717891609},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\eslint-loader\\index.js","mtime":1634717909831}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsgLy8gaW1wb3J0IHsKLy8gICBnZXRQYXJhbXNGcm9tVXJsLAovLyAgIGlzTW9iaWxlLAovLyB9IGZyb20gJ0AvdXRpbHMvY29tbW9uRm4nOwoKZXhwb3J0IHZhciByZXEgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJycgOiAnL0FwcFByaicsCiAgdGltZW91dDogMTUwMDAsCiAgLy8gICBwYXJhbXM6IHsKICAvLyAgICAgdHhuSWQ6IGAke2lzTW9iaWxlKCl9Q09ERTAwMDAxYCwKICAvLyAgICAgaW1laTogZ2V0UGFyYW1zRnJvbVVybCgnaW1laScpIHx8ICcxMjMnLAogIC8vICAgICBkbnM6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gJzMyMicgOiAnMzIyJywgLy8g55Sf5Lqn546v5aKD6KaB5pS5CiAgLy8gICB9LAogIC8vIGhlYWRlcnM6IHsKICAvLyAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnLAogIC8vIH0sCiAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCn0pOwpleHBvcnQgdmFyIHJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KCkgewogIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSwKICAgICAgX3JlZiR1cmwgPSBfcmVmLnVybCwKICAgICAgdXJsID0gX3JlZiR1cmwgPT09IHZvaWQgMCA/ICcnIDogX3JlZiR1cmwsCiAgICAgIF9yZWYkZGF0YSA9IF9yZWYuZGF0YSwKICAgICAgZGF0YSA9IF9yZWYkZGF0YSA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGRhdGEsCiAgICAgIF9yZWYkcGFyYW1zID0gX3JlZi5wYXJhbXMsCiAgICAgIHBhcmFtcyA9IF9yZWYkcGFyYW1zID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkcGFyYW1zLAogICAgICBfcmVmJG1ldGhvZCA9IF9yZWYubWV0aG9kLAogICAgICBtZXRob2QgPSBfcmVmJG1ldGhvZCA9PT0gdm9pZCAwID8gJ3Bvc3QnIDogX3JlZiRtZXRob2Q7CgogIHJldHVybiByZXEoewogICAgdXJsOiB1cmwsCiAgICBkYXRhOiBkYXRhLAogICAgcGFyYW1zOiBwYXJhbXMsCiAgICBtZXRob2Q6IG1ldGhvZAogIH0pOwp9OwpyZXEuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICB2YXIgY29uZmlnVGhlID0gY29uZmlnOwogIGNvbmZpZ1RoZS5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCc7CiAgcmV0dXJuIGNvbmZpZ1RoZTsKfSwgZnVuY3Rpb24gKGVycikgewogIGNvbnNvbGUubG9nKGVycik7Cn0pOwpyZXEuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgcmV0dXJuIHJlcy5kYXRhOwogIH0KCiAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZS5lcnJvcih7CiAgICBtZXNzYWdlOiAn5pWw5o2u6K+35rGC5aSx6LSlLOivt+mHjeivle+8gScKICB9KTsKICByZXR1cm4gcmVzOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICBpZiAoZXJyb3IucmVzcG9uc2UpIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogIH0KCiAgVnVlLnByb3RvdHlwZS4kbWVzc2FnZS5lcnJvcih7CiAgICBtZXNzYWdlOiAn6L+e5o6l5pyN5Yqh5Zmo5Ye66ZSZLOivt+mHjeivle+8gScKICB9KTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCfov57mjqXmnI3liqHlmajlh7rplJksIOivt+mHjeivle+8gScpKTsKfSk7"},{"version":3,"sources":["C:/Users/smz/Documents/zhouqi/myGit/binfen_activity/src/utils/request.js"],"names":["axios","Vue","req","create","baseURL","process","env","NODE_ENV","timeout","withCredentials","request","url","data","params","method","interceptors","use","config","configThe","headers","err","console","log","response","res","status","prototype","$message","error","message","Promise","reject","Error"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB,C,CACA;AACA;AACA;AACA;;AAEA,OAAO,IAAMC,GAAG,GAAGF,KAAK,CAACG,MAAN,CAAa;AAC9BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,aAAzB,GAAyC,EAAzC,GAA8C,SADzB;AAE9BC,EAAAA,OAAO,EAAE,KAFqB;AAG9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,EAAAA,eAAe,EAAE;AAXa,CAAb,CAAZ;AAaP,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,iFAEnB,EAFmB;AAAA,sBACrBC,GADqB;AAAA,MACrBA,GADqB,yBACf,EADe;AAAA,uBACXC,IADW;AAAA,MACXA,IADW,0BACJ,EADI;AAAA,yBACAC,MADA;AAAA,MACAA,MADA,4BACS,EADT;AAAA,yBACaC,MADb;AAAA,MACaA,MADb,4BACsB,MADtB;;AAAA,SAEZZ,GAAG,CAAC;AACbS,IAAAA,GAAG,EAAHA,GADa;AAEbC,IAAAA,IAAI,EAAJA,IAFa;AAGbC,IAAAA,MAAM,EAANA,MAHa;AAIbC,IAAAA,MAAM,EAANA;AAJa,GAAD,CAFS;AAAA,CAAhB;AASPZ,GAAG,CAACa,YAAJ,CAAiBL,OAAjB,CAAyBM,GAAzB,CAA6B,UAACC,MAAD,EAAY;AACvC,MAAMC,SAAS,GAAGD,MAAlB;AACAC,EAAAA,SAAS,CAACC,OAAV,CAAkB,cAAlB,IAAoC,iDAApC;AACA,SAAOD,SAAP;AACD,CAJD,EAIG,UAACE,GAAD,EAAS;AACVC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,CAND;AAOAlB,GAAG,CAACa,YAAJ,CAAiBQ,QAAjB,CAA0BP,GAA1B,CAA8B,UAACQ,GAAD,EAAS;AACrC,MAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;AACtB,WAAOD,GAAG,CAACZ,IAAX;AACD;;AACDX,EAAAA,GAAG,CAACyB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA7B;AAEA,SAAOL,GAAP;AACD,CAPD,EAOG,UAACI,KAAD,EAAW;AACZ,MAAIA,KAAK,CAACL,QAAV,EAAoB;AAClB,WAAOO,OAAO,CAACC,MAAR,CAAeH,KAAK,CAACL,QAAN,CAAeX,IAAf,CAAoBiB,OAAnC,CAAP;AACD;;AACD5B,EAAAA,GAAG,CAACyB,SAAJ,CAAcC,QAAd,CAAuBC,KAAvB,CAA6B;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAA7B;AAEA,SAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,eAAV,CAAf,CAAP;AACD,CAdD","sourcesContent":["import axios from 'axios';\r\nimport Vue from 'vue';\r\n// import {\r\n//   getParamsFromUrl,\r\n//   isMobile,\r\n// } from '@/utils/commonFn';\r\n\r\nexport const req = axios.create({\r\n  baseURL: process.env.NODE_ENV === 'development' ? '' : '/AppPrj',\r\n  timeout: 15000,\r\n  //   params: {\r\n  //     txnId: `${isMobile()}CODE00001`,\r\n  //     imei: getParamsFromUrl('imei') || '123',\r\n  //     dns: process.env.NODE_ENV === 'development' ? '322' : '322', // 生产环境要改\r\n  //   },\r\n  // headers: {\r\n  //   'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n  // },\r\n  withCredentials: true,\r\n});\r\nexport const request = ({\r\n  url = '', data = {}, params = {}, method = 'post',\r\n} = {}) => req({\r\n  url,\r\n  data,\r\n  params,\r\n  method,\r\n});\r\n\r\nreq.interceptors.request.use((config) => {\r\n  const configThe = config;\r\n  configThe.headers['Content-Type'] = 'application/x-www-form-urlencoded;charset=UTF-8';\r\n  return configThe;\r\n}, (err) => {\r\n  console.log(err);\r\n});\r\nreq.interceptors.response.use((res) => {\r\n  if (res.status === 200) {\r\n    return res.data;\r\n  }\r\n  Vue.prototype.$message.error({ message: '数据请求失败,请重试！' });\r\n\r\n  return res;\r\n}, (error) => {\r\n  if (error.response) {\r\n    return Promise.reject(error.response.data.message);\r\n  }\r\n  Vue.prototype.$message.error({ message: '连接服务器出错,请重试！' });\r\n\r\n  return Promise.reject(new Error('连接服务器出错, 请重试！'));\r\n});\r\n"]}]}