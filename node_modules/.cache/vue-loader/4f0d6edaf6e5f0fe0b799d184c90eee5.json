{"remainingRequest":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\src\\views\\Activity.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\src\\views\\Activity.vue","mtime":1634719734643},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634717893830},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\babel-loader\\lib\\index.js","mtime":1634717891609},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1634717893830},{"path":"C:\\Users\\smz\\Documents\\zhouqi\\myGit\\binfen_activity\\node_modules\\vue-loader\\lib\\index.js","mtime":1634717995769}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAnLi4vYXNzZXRzL2Nzcy9wYWdlU3R5bGUvYWN0aXZpdHkubGVzcyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FjdGl2aXR5JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZpdHk6IHsKICAgICAgICBhY3Rpdml0eU5hbWU6ICcnLAogICAgICAgIGFjdGl2aXR5QXJlYTogJycsCiAgICAgICAgYWN0aXZpdHlTdGF0dXM6ICcnLAogICAgICAgIGFjdGl2aXR5U3RhcnREdDogJycsCiAgICAgICAgYWN0aXZpdHlFbmREdDogJycsCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIEFjdGl2aXR5U3RhdHVzOiBbeyBsYWJlbDogJ+WFqOmDqCcsIHZhbHVlOiAnJyB9LCB7IGxhYmVsOiAn5LiL5p62JywgdmFsdWU6ICcwJyB9LCB7IGxhYmVsOiAn5LiK5p62JywgdmFsdWU6ICcxJyB9XSwKICAgICAgYWN0aXZpdHlTdGF0dXN0ZXh0OiAnJywgLy8g5LiK5p62L+S4i+aetgogICAgICBjdXJyZW50UGFnZTogMSwgLy8g5b2T5YmN6aG1CiAgICAgIHBhZ2VTaXplOiAxMCwgLy8g5q+P6aG15aSa5bCR5p2hCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICB0b3RhbDogMCwgLy8g5YWx5aSa5bCR5p2hCiAgICAgIHRvdGFsUGFnZTogMSwgLy8g5YWx5aSa5bCR6aG1CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W6KGo5qC85pWw5o2uCiAgICBnZXRkYXRhKGRhdGEpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5yZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvYWN0aXZpdHlMaXN0LmRvJywKICAgICAgICBkYXRhLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBwYWdlTnVtOiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgIH0sCiAgICAgICAgbWV0aG9kOiAncG9zdCcsIC8vIHBvc3QKICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5hc3NpZ25EYXRhKHJlcyk7CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5p+l6K+i5ZKM5YiG6aG15pe25LiK6YCB5Y+C5pWw6L2s5oiQRm9ybURhdGEKICAgIGdldGRhdGFBY3Rpdml0eSh2YWwpIHsKICAgICAgaWYgKHZhbCA9PT0gJ3F1ZXJ5JykgewogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICB9CiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmFjdGl2aXR5OwogICAgICBkYXRhLmFjdGl2aXR5U3RhcnREdCA9IGRhdGEuYWN0aXZpdHlTdGFydER0ID09PSBudWxsID8gJycgOiBkYXRhLmFjdGl2aXR5U3RhcnREdDsKICAgICAgZGF0YS5hY3Rpdml0eUVuZER0ID0gZGF0YS5hY3Rpdml0eUVuZER0ID09PSBudWxsID8gJycgOiBkYXRhLmFjdGl2aXR5RW5kRHQ7CiAgICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGl0ZW0pID0+IHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoaXRlbSwgZGF0YVtpdGVtXSk7CiAgICAgIH0pOwogICAgICB0aGlzLmdldGRhdGEoZm9ybURhdGEpOwogICAgfSwKICAgIC8vIOaLv+WIsOaVsOaNruWQjuWkhOeQhue7meihqOagvOi1i+WAvAogICAgYXNzaWduRGF0YSh2YWwpIHsKICAgICAgY29uc3QgcmVzID0gSlNPTi5wYXJzZSh2YWwpOwogICAgICBpZiAocmVzLmJvZHkudG90YWwgPj0gMCkgewogICAgICAgIHRoaXMudG90YWwgPSByZXMuYm9keS50b3RhbDsKICAgICAgICB0aGlzLnRvdGFsUGFnZSA9IE1hdGguY2VpbChyZXMuYm9keS50b3RhbCAvIHJlcy5ib2R5LnBhZ2VTaXplKTsKICAgICAgICBpZiAodGhpcy50b3RhbFBhZ2UgPT09IDApIHsKICAgICAgICAgIHRoaXMudG90YWxQYWdlID0gMTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHJlcy5ib2R5Lmxpc3QpIHsKICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlcy5ib2R5Lmxpc3Q7CiAgICAgICAgdGhpcy50YWJsZURhdGEuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgICAgY29uc3QgZGF0YSA9IGl0ZW07CiAgICAgICAgICBkYXRhLmFjdGl2aXR5RHQgPSBgJHtkYXRhLmFjdGl2aXR5U3RhcnREdH1+JHtkYXRhLmFjdGl2aXR5RW5kRHR9YDsKICAgICAgICAgIGRhdGEuZ2V0VGlja2V0RHQgPSBgJHtkYXRhLmdldFRpY2tldFN0YXJ0RHR9fiR7ZGF0YS5nZXRUaWNrZXRFbmREdH1gOwogICAgICAgICAgaWYgKGRhdGEuYWN0aXZpdHlTdGF0dXMgPT09ICcwJykgewogICAgICAgICAgICBkYXRhLmFjdGl2aXR5U3RhdHVzID0gZmFsc2U7CiAgICAgICAgICAgIGRhdGEuc3RhdHVzVGV4dCA9ICfkuIvmnrYnOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YS5hY3Rpdml0eVN0YXR1cyA9IHRydWU7CiAgICAgICAgICAgIGRhdGEuc3RhdHVzVGV4dCA9ICfkuIrmnrYnOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50YWJsZURhdGEgPSBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIOWOu+mFjee9rumhtemdogogICAgcm91dGVJdGVtKHBhdGgsIHZhbCkgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgcGF0aCwKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHZhbCksCiAgICAgICAgICB9LAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgICB9CiAgICB9LAogICAgLy8g6KGo5qC86YeM5LiK5LiL5p625YiH5o2iCiAgICBnZXRTdGF0dXNUaGlzKHZhbCkgewogICAgICBjb25zdCByb3cgPSB2YWw7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGNvbnN0IHN0YXR1cyA9IHJvdy5hY3Rpdml0eVN0YXR1cyA/ICcxJyA6ICcwJzsKICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdhY3Rpdml0eUlkJywgcm93LmFjdGl2aXR5SWQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FjdGl2aXR5U3RhdHVzJywgc3RhdHVzKTsKICAgICAgdGhpcy5yZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvdXBkYXRlLmRvJywKICAgICAgICBkYXRhOiBmb3JtRGF0YSwKICAgICAgICBwYXJhbXM6IHt9LAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLCAvLyBwb3N0CiAgICAgIH0pLnRoZW4oKHZhbHVlKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc3QgcmVzID0gSlNPTi5wYXJzZSh2YWx1ZSk7CiAgICAgICAgaWYgKHJlcy5zdGF0ID09PSAnMDAnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoeyBtZXNzYWdlOiAn5L+u5pS55oiQ5Yqf77yBJyB9KTsKICAgICAgICAgIHJvdy5zdGF0dXNUZXh0ID0gcm93LmFjdGl2aXR5U3RhdHVzID8gJ+S4iuaeticgOiAn5LiL5p62JzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcm93LmFjdGl2aXR5U3RhdHVzID0gIXJvdy5hY3Rpdml0eVN0YXR1czsKICAgICAgICAgIHJvdy5zdGF0dXNUZXh0ID0gcm93LmFjdGl2aXR5U3RhdHVzID8gJ+S4iuaeticgOiAn5LiL5p62JzsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoeyBtZXNzYWdlOiAn5L+u5pS55aSx6LSlLOivt+mHjeivle+8gScgfSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgcm93LmFjdGl2aXR5U3RhdHVzID0gIXJvdy5hY3Rpdml0eVN0YXR1czsKICAgICAgICByb3cuc3RhdHVzVGV4dCA9IHJvdy5hY3Rpdml0eVN0YXR1cyA/ICfkuIrmnrYnIDogJ+S4i+aetic7CiAgICAgICAgcmV0dXJuIHJvdzsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5q+P6aG15p2h5pWwcGFnZVNpemXmlLnlj5jml7bop6blj5EKICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgIHRoaXMuZ2V0ZGF0YUFjdGl2aXR5KCk7CiAgICB9LAogICAgLy8gY3VycmVudFBhZ2XlvZPliY3pobXmlLnlj5jml7bkvJrop6blj5EKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0ZGF0YUFjdGl2aXR5KCk7CiAgICB9LAogICAgdG9UaW55bWNlKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvVGlueW1jZScsIH0pOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0ZGF0YSh7fSk7CiAgfSwKfTsK"},{"version":3,"sources":["Activity.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0HA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Activity.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <div class=\"box\" style=\"background:#ffffff\">\n          <!--头部筛选条件-->\n          <div class=\"activity_select\">\n            <div class=\"activity_condition\">\n              <el-form ref=\"form\" :model=\"activity\" label-width=\"100px\"\n                class=\"form_select flex-row-start\"\n                label-position=\"right\"\n                size=\"mini\"\n              >\n                <el-form-item label=\"活动名称:\" class=\"form_acname\">\n                  <el-input v-model=\"activity.activityName\" placeholder=\"请输入活动名称\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"城市:\" class=\"form_city\">\n                  <el-input v-model=\"activity.activityArea\" placeholder=\"请输入城市\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"状态:\" class=\"form_status\">\n                  <el-select v-model=\"activity.activityStatus\" placeholder=\"请选择\">\n                    <el-option\n                      v-for=\"item in ActivityStatus\"\n                      :key=\"item.value\"\n                      :label=\"item.label\"\n                      :value=\"item.value\">\n                    </el-option>\n                  </el-select>\n                </el-form-item>\n                <el-form-item label=\"活动起止时间:\" class=\"form_time\">\n                  <el-col :span=\"10\">\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\"\n                      v-model=\"activity.activityStartDt\"\n                      value-format=\"yyyy-MM-dd\"\n                      style=\"width: 100%;\"\n                    >\n                    </el-date-picker>\n                  </el-col>\n                  <el-col class=\"line\" :span=\"2\">~</el-col>\n                  <el-col :span=\"10\">\n                    <el-date-picker type=\"date\" placeholder=\"选择日期\"\n                      v-model=\"activity.activityEndDt\"\n                      style=\"width: 100%;\"\n                      value-format=\"yyyy-MM-dd\"\n                    >\n                    </el-date-picker>\n                  </el-col>\n                </el-form-item>\n              </el-form>\n            </div>\n            <div class=\"activity_queryBtn\">\n              <el-button type=\"primary\" class=\"query\" size=\"mini\"\n                @click=\"getdataActivity('query')\"\n              >查询</el-button>\n            </div>\n            <div class=\"activity_addBtn\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"routeItem('/ActivityConfig')\">\n                新建活动\n              </el-button>\n            </div>\n            <div class=\"activity_addBtn\">\n              <el-button type=\"primary\" size=\"mini\" @click=\"toTinymce\">\n                Test富文本编辑器Tinymce\n              </el-button>\n            </div>\n          </div>\n          <!--表格-->\n          <div class=\"activity_table\">\n            <div class=\"activity_table_data\" v-loading=\"loading\"\n            >\n              <el-table :data=\"tableData\"\n                border\n                style=\"width: 100%\"\n                :row-style=\"{height: '30px'}\"\n                :cell-style=\"{padding:'4px 0'}\"\n                :header-cell-style=\"{background:'#f5f5f5',padding:'8px 0'}\"\n              >\n                <el-table-column type=\"index\" label=\"序号\"></el-table-column>\n                <el-table-column prop=\"activityName\" label=\"活动名称\" width=\"180\"></el-table-column>\n                <el-table-column prop=\"activityId\" label=\"活动ID\" width=\"180\"></el-table-column>\n                <el-table-column prop=\"activityArea\" label=\"活动区域\"></el-table-column>\n                <el-table-column prop=\"activityDt\" label=\"活动起止时间\" width=\"180\"></el-table-column>\n                <el-table-column prop=\"getTicketDt\" label=\"可领劵起止时间\" width=\"180\"></el-table-column>\n                <el-table-column prop=\"activityStatus\" label=\"状态\" width=\"150\">\n                  <template slot-scope=\"scope\">\n                    <el-switch v-model=\"scope.row.activityStatus\"\n                      @change=\"getStatusThis(scope.row)\"\n                    >\n                    </el-switch>{{scope.row.statusText}}\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"operating\" label=\"操作\">\n                  <template slot-scope=\"scope\">\n                    <el-button @click=\"routeItem('/ActivityConfig',scope.row)\"\n                      type=\"text\"\n                      size=\"small\"\n                      :disabled=\"scope.row.activityStatus\"\n                    >编辑</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n              <div class=\"activity_pagination flex-row-between\">\n                <div class=\"pagination_left\">\n                  共 {{total}} 条记录 第 {{currentPage}} / {{totalPage}} 页\n                </div>\n                <div>\n                  <el-pagination\n                    @size-change=\"handleSizeChange\"\n                    @current-change=\"handleCurrentChange\"\n                    :current-page.sync=\"currentPage\"\n                    :page-sizes=\"[10, 20, 50, 100]\"\n                    :page-size=\"pageSize\"\n                    :total=\"total\"\n                    layout=\"sizes, prev, pager, next, jumper\"\n                  >\n                  </el-pagination>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n    </div>\n</template>\n<script>\nimport '../assets/css/pageStyle/activity.less';\n\nexport default {\n  name: 'Activity',\n  data() {\n    return {\n      activity: {\n        activityName: '',\n        activityArea: '',\n        activityStatus: '',\n        activityStartDt: '',\n        activityEndDt: '',\n      },\n      tableData: [],\n      ActivityStatus: [{ label: '全部', value: '' }, { label: '下架', value: '0' }, { label: '上架', value: '1' }],\n      activityStatustext: '', // 上架/下架\n      currentPage: 1, // 当前页\n      pageSize: 10, // 每页多少条\n      loading: false,\n      total: 0, // 共多少条\n      totalPage: 1, // 共多少页\n    };\n  },\n  methods: {\n    // 获取表格数据\n    getdata(data) {\n      this.loading = true;\n      this.request({\n        url: '/activityList.do',\n        data,\n        params: {\n          pageSize: this.pageSize,\n          pageNum: this.currentPage,\n        },\n        method: 'post', // post\n      }).then((res) => {\n        this.loading = false;\n        this.assignData(res);\n      }).catch(() => {\n        this.loading = false;\n      });\n    },\n    // 查询和分页时上送参数转成FormData\n    getdataActivity(val) {\n      if (val === 'query') {\n        this.currentPage = 1;\n      }\n      const formData = new FormData();\n      const data = this.activity;\n      data.activityStartDt = data.activityStartDt === null ? '' : data.activityStartDt;\n      data.activityEndDt = data.activityEndDt === null ? '' : data.activityEndDt;\n      Object.keys(data).forEach((item) => {\n        formData.append(item, data[item]);\n      });\n      this.getdata(formData);\n    },\n    // 拿到数据后处理给表格赋值\n    assignData(val) {\n      const res = JSON.parse(val);\n      if (res.body.total >= 0) {\n        this.total = res.body.total;\n        this.totalPage = Math.ceil(res.body.total / res.body.pageSize);\n        if (this.totalPage === 0) {\n          this.totalPage = 1;\n        }\n      }\n      if (res.body.list) {\n        this.tableData = res.body.list;\n        this.tableData.forEach((item) => {\n          const data = item;\n          data.activityDt = `${data.activityStartDt}~${data.activityEndDt}`;\n          data.getTicketDt = `${data.getTicketStartDt}~${data.getTicketEndDt}`;\n          if (data.activityStatus === '0') {\n            data.activityStatus = false;\n            data.statusText = '下架';\n          } else {\n            data.activityStatus = true;\n            data.statusText = '上架';\n          }\n          return data;\n        });\n      } else {\n        this.tableData = [];\n      }\n    },\n    // 去配置页面\n    routeItem(path, val) {\n      if (val) {\n        this.$router.push({\n          path,\n          query: {\n            data: JSON.stringify(val),\n          },\n        });\n      } else {\n        this.$router.push(path);\n      }\n    },\n    // 表格里上下架切换\n    getStatusThis(val) {\n      const row = val;\n      this.loading = true;\n      const status = row.activityStatus ? '1' : '0';\n      const formData = new FormData();\n      formData.append('activityId', row.activityId);\n      formData.append('activityStatus', status);\n      this.request({\n        url: '/update.do',\n        data: formData,\n        params: {},\n        method: 'post', // post\n      }).then((value) => {\n        this.loading = false;\n        const res = JSON.parse(value);\n        if (res.stat === '00') {\n          this.$message.success({ message: '修改成功！' });\n          row.statusText = row.activityStatus ? '上架' : '下架';\n        } else {\n          row.activityStatus = !row.activityStatus;\n          row.statusText = row.activityStatus ? '上架' : '下架';\n          this.$message.error({ message: '修改失败,请重试！' });\n        }\n      }).catch(() => {\n        this.loading = false;\n        row.activityStatus = !row.activityStatus;\n        row.statusText = row.activityStatus ? '上架' : '下架';\n        return row;\n      });\n    },\n    // 每页条数pageSize改变时触发\n    handleSizeChange(val) {\n      this.pageSize = val;\n      this.getdataActivity();\n    },\n    // currentPage当前页改变时会触发\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getdataActivity();\n    },\n    toTinymce() {\n      this.$router.push({ path: '/Tinymce', });\n    }\n  },\n  mounted() {\n    this.getdata({});\n  },\n};\n</script>\n"]}]}